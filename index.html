<!doctype html>
<html lang="en">
<head data-version="1.1.2">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Chinese character writing worksheet creation tool</title>
	<link rel="stylesheet" href="res/libs/normalize.css">
	<link rel="stylesheet" href="res/default.css">
	<link rel="stylesheet" href="res/personal.css">
	<script src="res/fontsB64/noto-sans-light.js"></script>
	<script src="res/fontsB64/ar-pl-ukai-cn-ff-ttf.js"></script>
	<script src="res/fontsB64/ar-pl-ukai-cn-ff-ttf-part-2.js"></script>
	<script src="res/libs/jquery.js"></script>
	<script src="res/libs/jspdf.js"></script>
	<script src="res/libs/svg2pdf.js"></script>
	<script src="res/libs/hanzi-writer.min.js"></script>
	<script src="res/ref.js"></script>
	<script src="res/secToggle.js"></script>
	<script src="res/drawSO.js"></script>
	<script src="res/createPdf.js"></script>
	<script src="res/getPinyin.js"></script>
	<script src="res/getImageAsBase64FromUrl.js"></script>
	<script src="res/getWikiSOImageUrl.js"></script>
	<script src="res/script.js"></script>
</head>
<body>
	<h1>Tool to create worksheets for Chinese character writing practice</h1>
	<p>
	Create a pdf (A4 format) for practicing Chinese character writing. Internet connection is required.
	<br/>
	If you are <b>new to this tool</b>, just fill out the first two fields and click "Create PDF!" to get a glimpse of what it does.
	</p>
	<fieldset id="formFieldset">
		<table class="formtable">
			<tr>
				<td><label for="doc-title">Document title:</label></td>
				<td><input type="text" id="doc-title" value=""/></td>
			</tr>
			<tr>
				<td><label for="characters">Characters to practice:</label></td>
				<td>
					<textarea id="characters"></textarea>
					<span class="annotation">Insert the characters in the order you want them to appear in the pdf. There will be 11 characters per page. The application will remove all characters except Chinese ones (including punctuation and Latin letters)</span>
					<input type="checkbox" id="removeDuplicates" name="removeDuplicates" checked> <label for="removeDuplicates">Remove duplicates</label>
				</td>
			</tr>
			<tr>
				<td><label for="number-gray-signs">Number of grayscale support signs<sup class="refSup" data-ref="grayscaleSquares"></sup>:</label></td>
				<td>
					<input id="number-gray-signs" type="number" min=0 max=10 value="4"/>/10
				</td>
			</tr>
			<tr>
				<td>More options:</td>
				<td>
					<input type="checkbox" id="paste-so-images" name="paste-so-images" checked> <label for="paste-so-images">Add stroke orders to the characters</label>
					<br/>
					<input type="checkbox" id="write-pinyin" name="write-pinyin" checked> <label for="write-pinyin">Add Pīnyīn to the characters</label>
					<br/>
					<input type="checkbox" id="use-gridlines" name="use-gridlines" checked> <label for="use-gridlines">Use gridlines</label><sup class="refSup" data-ref="gridlines"></sup>
					<br/>
					<input type="checkbox" id="write-name" name="write-name" checked> <label for="write-name">Write "姓名：___" (name) on top</label>
				</td>
			</tr>
			<tr>
				<td>Way of receiving PDF:</td>
				<td>
					<span class="checkRadioBlock"><input type="radio" id="way-of-retr-download" name="way-of-retr" value="download" checked> <label for="way-of-retr-download">Download</label></span>
					<span class="checkRadioBlock"><input type="radio" id="way-of-retr-window" name="way-of-retr" value="window"> <label for="way-of-retr-window">Open in new window/tab</label><sup class="refSup" data-ref="windowsTabs"></sup><sup class="refSup" data-ref="tabsPreview"></sup></span>
					<span class="checkRadioBlock"><input type="radio" id="way-of-retr-cur-window" name="way-of-retr" value="currentWindow"> <label for="way-of-retr-cur-window">Open in current window/tab</label><sup class="refSup" data-ref="windowsTabs"></sup></span>
					<span class="annotation">On mobile phones and tablets, it is recommended to use "Download"</span>
				</td>
			</tr>
			<tr id="filenameTr">
				<td><label for="doc-filename">Resulting PDF filename:</label></td>
				<td>
					<input type="text" id="doc-filename"/>.pdf
					<span class="annotation">Leave this empty to create the filename automatically from the document title you entered.</span>
					</td>
			</tr>
			<tr id="statusTr">
				<td><span id="mainstatus" class="status"></span></td>
				<td>
					<input type="button" id="create-pdf" value="Create PDF!"/>
					<span id="substatus" class="status loadingDotsBehind">
					</span>
				</td>
			</tr>
		</table>
	</fieldset>

	<h3 class="togglingHeading">Footnotes<span class="toggle" id="footnoteToggle">hide</span></h3>
	<span><dl id="footnotes">
		<dt data-footnote="grayscaleSquares"></dt>
			<dd>Per character, there are 10 squares for students to practice writing the sign (and one square in front of them displaying the sign). In how many of those 10 squares should the sign be written in grayscale to support practicing? Lower numbers for more advanced students.</dd>
		<dt data-footnote="gridlines"></dt>
			<dd>
				<div id="gridlineExampleTable">
					<div>With gridlines:<br/><img src="res/img/with-gridlines.png" alt="With gridlines"/></div><div>vs.</div>
					<div><span class="only-mobile">vs. </span>without gridlines:<br/><img src="res/img/without-gridlines.png" alt="Without gridlines"/></div>
					<!--<tr>
						<td>With gridlines:</td>
						<td rowspan="2">vs.</td>
						<td>Without gridlines:</td>
					</tr>
					<tr>
						<td><img src="res/img/with-gridlines.png" alt="With gridlines"/></td>
						<td><img src="res/img/without-gridlines.png" alt="Without gridlines"/></td>
					</tr>-->
				</div>
			</dd>
		<dt data-footnote="windowsTabs"></dt>
			<dd>You might have to allow pop-ups for this page. Further, if this settings results in a new window or tab depends on your browser (settings).</dd>
		<dt data-footnote="tabsPreview"></dt>
			<dd>Sometimes, the created PDF document looks slightly different in the browser's preview. To see the actual result, open it in you favorite desktop PDF viewer. (You can still save the document when choosing one of the window/tab options. Simply hit Ctrl+S or right click and choose "Save Page as...".)</dd>
	</dl></span>

	<hr/>

	<h3 class="togglingHeading">Yet another Chinese learning-something tool?<span class="toggle">hide</span></h3>
	<span>Yes, as I was kinda surprised when my Chinese teacher used a tool she paid for to do exactly this.</span>

	<h3 class="togglingHeading" id="sec:errorHandling">Error handling<span class="toggle">hide</span></h3>
	<span>What to do if something went wrong. Try those suggestions:
	<ul>
		<li>This tool heavily uses the internet. Make sure you are connected and wikimedia.org, cors.io and glosbe.com are accessible. (You can find the links in the <a href="#sec:thisToolUses">"This tool uses..." section</a>.)</li>
		<li>If it says "PDF created" but you did not get the PDF, try choose a different option under "Way of receiving PDF". "Download" usually works. Also refer to <a href="#ref4">Footnote 4</a>.</li>
		<li>Try to choose different characters and leave all the other fields blank / at their default value.
			<ul><li>If this solves your issue, please report about both the input that did not work and the one that did on <a href="https://github.com/12jr/chinese-character-worksheets/issues" target="_blank">the Github Issues page</a> or by <a href="https://github.com/12jr/" target="_blank">contacting me</a>.</li></ul>
		<li>There is some character you entered which is not written on the worksheet? Please post that character(s) on <a href="https://github.com/12jr/chinese-character-worksheets/issues" target="_blank">the Github Issues page</a> or <a href="https://github.com/12jr/" target="_blank">contact me</a>. The reason is probably the font this project has to use, see <a href="#About-AR-PL-Ukai-CN">here</a>.</li>
	</ul>
	If those suggestions did not help you, post your question to <a href="https://github.com/12jr/chinese-character-worksheets/issues" target="_blank">the Github Issues page</a> or <a href="https://github.com/12jr/" target="_blank">contact me</a>.</span>

	<h3 class="togglingHeading" id="sec:thisToolUses">This tool uses...<span class="toggle">hide</span></h3>
	<span><ul>
		<li>The <a href="https://commons.wikimedia.org/wiki/Commons:Stroke_Order_Project" target="_blank"> Wikimedia Commons Stroke Order Project</a> as the source of the stroke order pictures,
		<br/>the <a href="https://www.mediawiki.org/wiki/API:Main_page" target="_blank">Wikimedia Commons API</a> to get those pictures, and
		<br/><a href="https://cors.io/" target="_blank">cors.io</a> to be able to get those pictures with JavaScript.</li>
		<li><a href="https://glosbe.com/a-api" target="_blank">Glosbe API</a> to create Pīnyīn from the characters.</li>
		<li><a href="https://parall.ax/products/jspdf" target="_blank">jsPDF</a> to create the PDFs dynamically.</li>
		<li><a href="https://necolas.github.io/normalize.css/" target="_blank">normalize.css</a> for the looks.</li>
		<li><a href="https://jquery.com/" target="_blank">jQuery</a> for coding.</li>
		<li><a href="https://codepen.io/vkjgr/pen/gbPaVx" target="_blank">Some code</a> for fancy "loading dots".</li>
		<li id="About-AR-PL-Ukai-CN">
			<a href="https://www.freedesktop.org/wiki/Software/CJKUnifonts/" target="_blank">AR PL UKai CN</a> (<a href="https://github.com/saiswa/free-fonts/blob/master/PCLinuxOSFonts/AR%20PL%20UKai%20CN%2C%20Regular.ttc" target="_blank">available here</a>) as a Chinese font.
			<ul>
				<li>Note that this is an open source project, therefore it is dependent on open source fonts (unlike said paid website, which uses <a href="https://docs.microsoft.com/en-us/typography/font-list/kaiti" target="_blank">Microsoft's proprietary KaiTi</a>). AR PL UKai does not seem to be developed anymore. Yet, AR PL UKai CN seems to be the <a href="https://en.wikipedia.org/wiki/List_of_CJK_fonts#Regular_script" target="_blank">best choice</a> in open source <a href="https://en.wikipedia.org/wiki/Regular_script" target="_blank">regular script</a> fonts.
					<br/>
					Do you know some better open source, regular script font? Please <a href="https://github.com/12jr/chinese-character-worksheets/issues" target="_blank">file an issue</a> suggesting it!</li>
				</ul>
		</li>
		<li><a href="https://www.google.com/get/noto/#sans-lgc" target="_blank">Noto Sans</a> as a Pīnyīn font.</li>
	</ul>
	Thank you to everybody who contributed to those projects and thereby made this one possible!</span>

	<h3><a href="https://github.com/12jr/chinese-character-worksheets" target="_blank">Fork and/or download me on Github!</a></h3>
	<span>Users: <a href="https://github.com/12jr/chinese-character-worksheets/releases" target="_blank">Download (@Releases page)</a>&ensp;|&ensp;Developers: <a href="https://github.com/12jr/chinese-character-worksheets/issues" target="_blank">What to do next? (@Issues page)</a></span>
	<hr/>
	版权 2018. Version 1.1.2. <a href="https://github.com/12jr/chinese-character-worksheets/blob/master/LICENSE" target="_blank">MIT License</a>. <a href="#">Go to top ↑</a>

	<!-- needed for the pdf creation -->
	<div id="strokeOrderSvgs" style=""></div>

	<!-- for testing purposes -->
	<svg id="testSvg" style="width: 6.75px; height: 6.75px; margin-right: 3px;"><g transform="translate(0, 5.9326171875) scale(0.006591796875, -0.006591796875)"><path d="M 381 684 Q 385 715 390 743 L 394 770 Q 394 771 395 773 Q 401 794 404 803 Q 407 810 392 822 Q 367 837 348 840 Q 336 843 330 836 Q 324 832 330 820 Q 345 804 348 676 C 349 646 377 654 381 684 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 390 743 Q 456 743 526 766 Q 527 767 528 767 Q 534 773 531 779 Q 525 788 503 793 Q 494 794 425 777 Q 407 774 394 770 C 365 762 360 743 390 743 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 330 673 Q 330 674 330 675 Q 329 685 308 690 Q 287 697 278 694 Q 272 693 271 683 Q 265 637 159 541 Q 144 531 164 533 Q 195 537 265 596 L 280 610 Q 299 634 320 654 C 332 666 332 666 330 673 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 324 539 Q 314 532 305 521 Q 253 467 169 421 Q 147 411 165 409 Q 273 405 425 589 Q 449 628 471 641 Q 483 648 479 659 Q 475 669 431 694 Q 419 700 381 684 L 348 676 Q 339 676 330 673 C 301 667 290 659 320 654 Q 329 650 350 652 Q 395 664 399 658 Q 402 627 337 553 L 324 539 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 265 596 Q 264 596 265 595 Q 304 544 324 539 C 336 535 336 535 337 553 Q 338 563 333 575 Q 323 594 280 610 C 255 620 255 620 265 596 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 674 647 Q 773 750 778 754 Q 791 763 786 771 Q 785 780 731 801 Q 719 807 677 787 Q 598 762 551 753 Q 533 750 545 738 Q 567 722 602 732 Q 678 751 683 746 Q 686 742 677 727 Q 659 696 633 664 L 610 640 Q 585 618 549 589 Q 536 579 549 577 Q 582 583 641 621 L 674 647 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 641 621 Q 710 576 765 527 Q 778 512 790 508 Q 800 504 807 519 Q 811 532 804 556 Q 798 595 674 647 L 633 664 Q 543 704 536 702 Q 532 701 533 690 Q 534 683 548 676 Q 579 660 610 640 L 641 621 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 355 357 Q 404 400 446 445 Q 494 497 521 524 L 537 540 Q 541 547 541 554 Q 540 566 517 574 Q 492 584 481 583 Q 474 582 471 570 Q 428 437 111 229 Q 89 216 65 199 Q 46 187 70 188 Q 160 195 292 306 Q 311 321 330 336 L 355 357 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 521 524 Q 779 308 834 301 Q 900 301 990 331 Q 1008 335 1008 341 Q 1009 348 994 351 Q 937 366 872 378 Q 725 411 547 534 Q 541 538 537 540 C 512 556 498 543 521 524 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 471 433 Q 514 402 534 405 Q 544 408 545 423 Q 544 433 531 446 Q 512 461 468 454 Q 461 453 463 444 Q 464 438 471 433 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 574 196 Q 575 195 576 193 Q 580 180 591 181 Q 603 182 609 195 Q 618 205 634 256 Q 647 301 677 327 Q 693 342 678 354 Q 663 369 619 390 Q 604 397 553 381 Q 532 381 454 356 Q 412 344 385 338 C 356 331 373 311 403 312 Q 415 311 424 314 Q 467 330 570 352 Q 588 355 594 352 Q 601 348 598 325 Q 585 243 577 223 C 570 202 570 202 574 196 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 399 240 Q 403 240 411 241 Q 481 254 533 264 Q 552 268 545 278 Q 536 290 515 293 Q 490 294 398 263 C 370 253 369 238 399 240 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 400 170 Q 454 185 574 196 C 604 199 606 214 577 223 Q 561 232 462 208 Q 429 202 400 196 C 371 190 371 162 400 170 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 385 338 Q 369 351 355 357 C 329 371 318 364 330 336 Q 367 263 355 70 Q 351 27 316 -16 Q 292 -44 331 -84 Q 343 -91 354 -77 Q 370 -52 509 41 Q 527 51 531 59 Q 535 66 527 68 Q 521 68 414 26 Q 396 19 397 35 Q 400 108 400 170 L 400 196 Q 399 218 399 240 L 398 263 Q 398 306 403 312 C 405 323 405 323 385 338 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 604 107 Q 676 150 712 164 Q 728 167 726 177 Q 722 192 706 210 Q 690 228 671 231 Q 658 232 657 214 Q 658 202 649 188 Q 625 160 582 114 C 562 92 578 92 604 107 Z" style="fill: rgb(0, 0, 0);"></path><path d="M 582 114 Q 519 136 479 147 Q 470 148 471 138 Q 474 128 485 121 Q 618 57 786 -43 Q 804 -56 817 -56 Q 824 -55 828 -45 Q 835 -32 815 1 Q 794 38 604 107 L 582 114 Z" style="fill: rgb(0, 0, 0);"></path></g></svg>

</body>
</html>
